
# Functional Testing definition model for Shaddock.
# =================================================
# Jinja2 rendering testing

---

clusters: 

  - name: vars-cluster1
    vars: !include site01/test-variables01.yml
    images: images/testdir
    services: |
      {% for service in servicelist %}
        - name: clu1-{{service}}
          image: testuser/arch_base:latest
          priority: 401
          env:
            VAR001: {{var_001}}
          command: env
      {% endfor %}

  - name: vars-cluster2
    vars: !include 'site01/test-variables01.yml'
    images: images/testdir
    services: |
      {% for service in largeservicelist %}
        - name: clu2-{{service}}
          image: testuser/arch_base:latest
          priority: 401
          env:
            VAR001: {{var_001}}
          command: env
      {% endfor %}

  - name: vars-cluster3
    images: images/testdir
    services:
      - name: out-of-jinja3
        image: testuser/arch_base:latest
        priority: 401
